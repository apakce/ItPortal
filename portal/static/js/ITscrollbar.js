!function(){function a(a,b){this.panel=$(a),$.extend(this,b),c.call(this),d.call(this),this.update()}function b(a){"static"===a.css("position")&&a.css({position:"relative",top:"0px"})}function c(){b(this.panel),b(this.panel.children()),this.panel.append('<div class="scrollbar'+(this.skin?" scrollbar-"+this.skin:"")+'" style="display: none; padding: '+this.padding+'px 0;"><div><span style="padding: '+this.minHeight/2+'px 0;"></span></div></div>')}function d(){var a=this;this.panel.on("undefined"!=typeof document.body.onmousewheel?"mousewheel":"DOMMouseScroll",function(b){var c=b.originalEvent.wheelDelta;"undefined"==typeof c&&(c=-b.originalEvent.detail);var d,e=$(this),f=e.children().first(),g=parseFloat(f.css("top"));if(!(f.outerHeight()<=e.innerHeight())){if(c>0){if(0===g)return;g+=a.speed}else{if(d=e.height()-f.outerHeight(!0),g===d)return;g-=a.speed}b.preventDefault(),a.scrollTo(g)}}),this.panel.children().last().on("mousedown",function(b){var c=parseFloat($("span",a.panel.children().last()).css("top"))-b.clientY;$(document).on("mousemove.scrollBar",function(b){a.scrollTo(-(c+b.clientY)*a.panel.children().first().outerHeight()/e.call(a)),b.preventDefault()}).on("mouseup.scrollBar",function(){$(document).off("mousemove.scrollBar"),$(document).off("mouseup.scrollBar")})})}function e(){var a=this.panel;return a.innerHeight()-this.minHeight-2*this.padding}a.prototype.speed=24,a.prototype.minHeight=8,a.prototype.padding=3,a.prototype.update=function(){var a=this.panel.height(),b=this.panel.children(),c=b.first().outerHeight(),d=b.last();return a>=c?(b.first().css({top:0}),void d.css({display:"none"})):(d.css({display:"block"}),$("span",d).css({height:a/c*e.call(this)+("border-box"===$("span",d).css("box-sizing")?this.minHeight:0)}),void this.scrollTo(parseFloat(b.first().css("top"))))},a.prototype.scrollTo=function(a){var b=this.panel.children(),c=b.first(),d=$("span",b.last()),f=this.panel.height()-c.outerHeight();a>0?a=0:f>a&&(a=f),c.css({top:a}),d.css({top:-e.call(this)/c.outerHeight()*a})},$.fn.scrollbar=function(b){for(var c=[],d=0,e=this.length;e>d;d++)c.push(new a(this[d],b));return c.length<2?c[0]:c}}();